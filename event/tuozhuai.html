<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>
</head>
<style>
	#div1 {
		width: 200px;
		height: 200px;
		background: red;
		position: absolute;
	}
</style>
<script>

	window.onload = function () {
		var oDiv = document.getElementById('div1')
		var disX = 0;
		var disY = 0;
		oDiv.onmousedown = function (ev) {
			disX = ev.clientX - oDiv.offsetLeft;
			disY = ev.clientY - oDiv.offsetTop;
			document.onmousemove = function (ev) {
				let l = ev.clientX - disX
				let t =  ev.clientY - disY 
				if(l < 0){
					l = 0
				} else if(l > document.documentElement.clientWidth - oDiv.offsetWidth ){
					l = document.documentElement.clientWidth - oDiv.offsetWidth
				}
				if(t < 0){
					t = 0
				}else if(t > document.documentElement.clientHeight - oDiv.offsetHeight){
					t = document.documentElement.clientHeight - oDiv.offsetHeight
				}
				oDiv.style.left = l + 'px';
				oDiv.style.top = t + 'px';

			}
			document.onmouseup = function () {
				document.onmousemove = null; // 防止鼠标快速划出范围了就不会动的问题
				document.onmouseup = null;
			}
			return false
		}
	}
</script>

<body>
	<div id="div1">

	</div>
</body>

</html>